---

## sidebarDepth: 3

æœ€è¿‘ï¼ˆ20201014ï¼‰`Uniapp`å®˜æ–¹åœ¨`HBuilderX 2.9.3`ç‰ˆæœ¬æ›´æ–°ä¸­ï¼Œå¢åŠ äº† PC å®½å±é€‚é…çš„åŠŸèƒ½ï¼Œåœ¨å†™ä¸‹æœ¬ç« æ—¶è¯¥åŠŸèƒ½åªæ”¯æŒ`H5`ç«¯ï¼Œè¿™ç« æ¥å°å°é²œã€‚

[å®˜æ–¹æ–‡æ¡£][link 1]ä»‹ç»å¾—å¾ˆè¯¦ç»†ï¼Œè¿™ç« æˆ‘æ‰“ç®—ä»¥æˆ‘çš„çœ‹æ³•æ¥ä»‹ç»ã€‚

ç›®å‰é€‚é…ä¸»è¦å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼š

1.  æ¡†æ¶çº§é€‚é… -- åœ¨ `page.json` å¢åŠ é…ç½®é¡¹ï¼Œå¯é€‰æœ‰`leftWindow`ã€`rightWindow`ã€`topWindow`
2.  ç»„ä»¶çº§é€‚é… -- ä½¿ç”¨`match-media`ç»„ä»¶

## æ¡†æ¶çº§é€‚é…

`leftWindow`ã€`rightWindow`ã€`topWindow`ï¼Œé¡¾åæ€ä¹‰å°±çŸ¥é“ä»£è¡¨`å·¦å³ä¸Š`çš„ä½ç½®ï¼Œä»ç”¨æˆ·ä½“éªŒå’Œäº§å“è§’åº¦ï¼Œè¿™ç§æ¨¡å¼å¯¹ä½¿ç”¨èŒƒå›´è¿˜æ˜¯æœ‰æ‰€çº¦æŸï¼Œé€‚åˆä¸Šå¯¼èˆªï¼Œå·¦åˆ†ç±»ï¼Œå³å†…å®¹çš„å¸ƒå±€ï¼Œå¯¹ï¼Œæˆ‘è¯´çš„å°±æ˜¯`åå°ç®¡ç†ç³»ç»Ÿ`ã€‚

![Image 1](_media/3d905f21f893482aa39acf7b439c19ca.png)

é¦–å…ˆï¼Œåœ¨`page.json`é‡ŒåŠ å…¥é…ç½®ï¼š

    {
      "globalStyle": {

      },
      "topWindow": {
        "path": "responsive/top-window.vue", // æŒ‡å®š topWindow é¡µé¢æ–‡ä»¶
        "style": {
          "height": 60
        },
        "matchMedia": {
          "minWidth": 0
        }
      },
      "leftWindow": {
        "path": "responsive/left-window.vue", // æŒ‡å®š leftWindow é¡µé¢æ–‡ä»¶
        "style": {
          "width": 300
        }
      },
      "rightWindow": {
        "path": "responsive/right-window.vue", // æŒ‡å®š rightWindow é¡µé¢æ–‡ä»¶
        "style": {
          "width": "calc(100vw - 400px)" // é¡µé¢å®½åº¦
        },
        "matchMedia": {
          "minWidth": 768 //ç”Ÿæ•ˆæ¡ä»¶ï¼Œå½“çª—å£å®½åº¦å¤§äº768pxæ—¶æ˜¾ç¤º
        }
      }
    }

ç„¶åå»ºç«‹ç›®å½•å’Œæ–‡ä»¶`responsive/right-window.vue`ï¼ŒåŠ å…¥ç”¨äºæ˜¾ç¤ºå³å†…å®¹çš„ä»£ç ï¼š

    <!--responsive/right-window.vue-->
    <template>
      <view>
        <pages-detail-artDetail ref="detailPage"></pages-detail-artDetail>
      </view>
    </template>

`responsive/top-window.vue`ï¼ŒåŠ å…¥ç”¨äºæ˜¾ç¤ºä¸Šå¯¼èˆªçš„ä»£ç ï¼š

    <!--responsive/top-window.vue-->
    <template>
      <view>
        <view class="logo">logo</view>
        <pages-head-nav ref="navPage"></pages-head-nav>
      </view>
    </template>

è¿™é‡Œè¦è¯´æ˜ä¸€ä¸‹ï¼Œ`<pages-detail-artDetail>`ç»„ä»¶æ˜¯**æŒ‰ç…§ç›®å½•ç»“æ„**æ¥å‘½åçš„ï¼Œä»–è¡¨ç¤ºçš„æ˜¯`pages -> detail -> artDetailæ–‡ä»¶`ï¼Œ

![Image 1](_media/db776d7b4f3342b897c8e4dc0142874d.png)

ç»„ä»¶æ•°æ®æ¸²æŸ“é€šè¿‡`uni.$emit`å’Œ`uni.$on`é€šä¿¡è·å–ï¼š

    <!--çˆ¶-->
    uni.$emit('updateDetail', {
      detail: encodeURIComponent(JSON.stringify(detail))
    })
    <!--å­-->
    uni.$on('updateDetail', (e) => {
      this.$refs.detailPage.load(e.detail);
    })

## ç»„ä»¶çº§é€‚é…

`match-media`ç»„ä»¶æ˜¯åª’ä½“æŸ¥è¯¢é€‚é…ç»„ä»¶ï¼Œç”¨äºåŠ¨æ€å±å¹•é€‚é…ï¼Œå¯ä»¥åœ¨é¡µé¢å¤šæ¬¡ä½¿ç”¨ã€‚

åœ¨`match-media`ç»„ä»¶ä¸­æ”¾ç½®å†…å®¹ï¼Œå¹¶ä¸ºç»„ä»¶æŒ‡å®šä¸€ç»„`media query`åª’ä½“æŸ¥è¯¢è§„åˆ™ï¼Œå¦‚å±å¹•å®½åº¦ã€‚è¿è¡Œæ—¶ï¼Œå¦‚å±å¹•å®½åº¦æ»¡è¶³æŸ¥è¯¢æ¡ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å°±ä¼šè¢«å±•ç¤ºï¼Œåä¹‹åˆ™éšè—ã€‚

    <template>
        <view>
            <match-media :min-width="375" :max-width="800">
              <view>å½“é¡µé¢æœ€å°å®½åº¦ 375pxï¼Œ é¡µé¢å®½åº¦æœ€å¤§ 800px æ—¶æ˜¾ç¤º</view>
            </match-media>

            <match-media :min-height="400" :orientation="landscape">
              <view>å½“é¡µé¢é«˜åº¦ä¸å°äº 400px ä¸”å±å¹•æ–¹å‘ä¸ºçºµå‘æ—¶å±•ç¤ºè¿™é‡Œ</view>
            </match-media>
        </view>
    </template>

![Image 1](_media/247852451b6740d18084d25302b129f3.png)

![Image 1](_media/db819c401d074da68d6ae0c3d9d11932.png)

é¡µé¢å°äº 375pxï¼Œç¬¬ä¸€æ®µä»£ç è¢«éšè—äº†ã€‚

## å°ç»“

1.  PC å®½å±é€‚é…è¿™ä¸ªåŠŸèƒ½çš„å‡ºç°ï¼Œé¢„ç¤ºç€`Uniapp`å®ç°äº†å…¨å¹³å°å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ã€‚
2.  ç›¸ä¿¡ä¸ä¹…çš„å°†æ¥ï¼Œä¼šæœ‰æ›´å¤šè‡ªé€‚åº”ç»„ä»¶å’Œæ’ä»¶å‡ºæ¥ï¼Œæ”¹è¿›å¼€å‘æ–¹å¼ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œå°‘ç‚¹ 996ï¼Œå¤šç‚¹ 955 ğŸ˜ƒã€‚

[link 1]: https://uniapp.dcloud.net.cn/adapt
[image-20210215153634259]: https://s.poetries.work/images/image-20210215153634259.png
[image-20210215153649007]: https://s.poetries.work/images/image-20210215153649007.png
[image-20210215153708460]: https://s.poetries.work/images/image-20210215153708460.png
[image-20210215153719791]: https://s.poetries.work/images/image-20210215153719791.png
